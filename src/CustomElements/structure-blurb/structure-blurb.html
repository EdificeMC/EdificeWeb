<template>
    <require from="../../CustomAttributes/tooltip"></require>
    <require from="../../ValueConverters/imgur"></require>
    <div class="thumbnail structure-blurb">
        <img src="${structure.screenshot.url | imgur}" class="img-rounded">
        <div class="caption">
            <div class="btn-group pull-right">
                <button click.delegate="star()" class="btn btn-default star-btn ${structureIsStarred && auth.isAuthenticated ? 'active' : ''}"><i class="fa fa-star ${structureIsStarred && auth.isAuthenticated ? 'starred' : ''}"></i></button>
                <a show.bind="structure.stargazers.length === 0" class="btn btn-default star-btn">${structure.stargazers.length}</a>
                <a show.bind="structure.stargazers.length !== 0" route-href="route: structure-stars; params.bind: { id: structure.id }" class="btn btn-default star-btn">${structure.stargazers.length}</a>
            </div>
            <a route-href="route: structure-view; params.bind: { id: structure.id }"><h3 class="name">${structure.name}</h3></a>
            <a route-href="route: profile; params.bind: { playerId: structure.creatorUUID }"><h5>${structure.creatorName}</h5></a>
            <button id="buildStructureBtn" class="btn btn-primary" tooltip="trigger.bind: 'click'; title.bind: 'Copied!'" data-clipboard-text="${createStructureCmdPrefix + structure.id}">
                <i class="glyphicon glyphicon-copy"></i> Build this structure
            </button>
            <i style="margin-left: 5px" tooltip="trigger.bind: 'hover'; title.bind: 'Click to copy the command, then paste in Minecraft chat on a server with Edifice.'" class="fa fa-lg fa-question-circle"></i>
        </div>
    </div>
</template>
